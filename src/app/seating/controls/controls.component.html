<div class="controls text-light bg-primary p-1">
  <div class="p-1">
    <label for="playerCount">Number of players</label>
    <input
      type="number"
      id="playerCount"
      spinner
      class="form-control"
      [(ngModel)]="playerCount"
      (change)="onPlayerCountChanged()"
    />
    <label for="rounds">Number of Rounds (Hanchan)</label>
    <input type="number" id="rounds" spinner class="form-control" [(ngModel)]="rounds" />
    <button type="button" class="btn btn-secondary my-1 w-100" (click)="generateSeatings()">Generate Seating</button>
  </div>
  <div class="p-1">
    @if (!playerNameFile) {
      <label for="playerNames">Load a file for the player names</label>
      <div class="d-flex">
        <input type="file" id="playerNames" class="form-control" (change)="playerFileChanged($event)" />
        <button
          class="btn btn-info"
          [popover]="'Make sure the file has a player name per line. The names will be attributed sequentially.'"
        >
          <i class="fa fa-question"></i>
        </button>
      </div>
    } @else if (playerCountChanged()) {
      <p>The player count has changed. Keep the same name file?</p>
      <div class="d-flex">
        <button class="btn btn-success w-50" (click)="playerCountChanged.set(false)">Keep</button>
        <button class="btn btn-danger w-50" (click)="playerNameFile = ''; seatingService.names().clear()">Change</button>
      </div>
    } @else {
      <p>{{ playerNameFile }} file loaded</p>
    }
  </div>

  @if (this.seatingService.seatingMap()) {
    <div class="d-flex p-1">
      <button type="button" class="btn btn-secondary w-100" (click)="copyArrangement()">
        <i class="fa fa-copy me-1"></i>Copy seating arrangement
      </button>
      <button
        class="btn btn-info"
        [popover]="'This will generate a string that you can paste into the Tournament tab.'"
      >
        <i class="fa fa-question"></i>
      </button>
    </div>
  }
</div>
